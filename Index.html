<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Real Estate Proposal - Landmark Development Pvt Ltd</title>

  <!-- Tailwind CSS (CDN) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">

  <!-- Minimal Custom Styles -->
  <style>
    /* Lightbox overlay */
    .lightbox {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.8);
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    .lightbox img {
      max-width: 90%;
      max-height: 90%;
    }
    .lightbox .close-btn {
      position: absolute;
      top: 1rem; right: 1rem;
      color: #fff;
      font-size: 2rem;
      background: rgba(0,0,0,0.3);
      border: none; border-radius: 9999px;
      width: 40px; height: 40px;
      display: flex; justify-content: center; align-items: center;
      cursor: pointer;
    }

    /* Fade-in animation (intersection observer toggles ‘opacity-100/translate-y-0’) */
    .fade-up {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .fade-up.in-view {
      opacity: 1;
      transform: translateY(0);
    }

    /* Accordion styles */
    .accordion-content {
      display: none;
    }
    .accordion-header.active + .accordion-content {
      display: block;
    }

    /* Updated color palette to replace old “brown” (#9F8571) */
    :root {
      --accent-color: #68869a;       /* Primary accent */
      --bg-incomes: #d7e0eb;        /* Light tone for income rows */
      --bg-expenses: #dad9d6;       /* Light tone for expense rows */
      --bg-totals: #68869a;         /* Darker accent for total rows */
      --background-color: #ffffff;  /* Used for table headings, etc. */
    }

    /* Classes to keep the existing “haze” references but new color */
    .bg-haze {
      background-color: var(--accent-color);
    }
    .text-haze {
      color: var(--accent-color);
    }
    .border-haze {
      border-color: var(--accent-color);
    }

    /* Rows highlighting for the multi-year breakdown */
    .bg-incomes {
      background-color: var(--bg-incomes);
    }
    .bg-expenses {
      background-color: var(--bg-expenses);
    }
    .bg-totals {
      background-color: var(--bg-totals);
      color: #ffffff;
      font-weight: 600;
    }
  </style>
</head>
<body class="font-sans text-gray-900">

  <!-- NAVIGATION -->
  <nav class="bg-white shadow-md fixed w-full z-50">
    <div class="max-w-7xl mx-auto px-4">
      <div class="flex justify-between items-center h-16">
        <!-- Logo or Brand -->
        <div class="flex items-center">
          <span class="text-2xl font-bold text-haze">Landmark Development Pvt Ltd</span>
        </div>
        <!-- Navigation Links -->
        <div class="hidden md:flex space-x-8">
          <a href="#execSummary" class="text-gray-700 hover:text-haze">Summary</a>
          <a href="#location" class="text-gray-700 hover:text-haze">Location</a>
          <a href="#mapsSection" class="text-gray-700 hover:text-haze">Maps</a>
          <a href="#pricing" class="text-gray-700 hover:text-haze">Pricing</a>
          <a href="#roiSection" class="text-gray-700 hover:text-haze">ROI</a>
          <a href="#exit" class="text-gray-700 hover:text-haze">Resale Strategy</a>
          <a href="#timeline" class="text-gray-700 hover:text-haze">Timeline</a>
          <a href="#whyInvest" class="text-gray-700 hover:text-haze">Why Invest</a>
          <a href="#nextSteps" class="text-gray-700 hover:text-haze">Contact Us</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO / COVER PAGE -->
  <div class="pt-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 py-16 flex flex-col md:flex-row items-center fade-up">
      <!-- Text Column -->
      <div class="md:w-1/2 md:pr-8 mb-8 md:mb-0">
        <h1 class="text-5xl font-bold text-haze mb-6">Mix Use Development</h1>
        <p class="text-lg text-gray-700 mb-6">
          We proudly present this unique mixed-use building in Malé, Maldives.
          Discover flexible floor options, robust ROI, and easy financing solutions.
        </p>
        <button onclick="document.getElementById('execSummary').scrollIntoView({behavior:'smooth'})"
          class="bg-haze text-white px-8 py-3 rounded-lg text-lg font-medium hover:opacity-90 transition-opacity">
          View Proposal
        </button>
      </div>
      <!-- Image Column -->
      <div class="md:w-1/2">
        <img src="http://landmark.mv/Pics/Left_Side.JPG"
          alt="Mix Use Development"
          class="w-full h-auto rounded-lg shadow-lg hover:opacity-90 transition-opacity"/>
      </div>
    </div>
  </div>


  <!-- SECTION 1: EXEC SUMMARY -->
  <section id="execSummary" class="py-16 bg-white fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Executive Summary</h2>
      <div class="bg-gray-50 p-6 rounded-md shadow-sm">
        <p class="text-gray-700 mb-4">
          <strong>Property Overview:</strong> This 15-story building offers 9 floors 
          for sale in prime Malé. Strategically located near MPL, Customs, and main 
          wholesale markets. Suitable for diverse commercial or residential usage.
        </p>
        <p class="text-gray-700">
          <strong>Investment Potential:</strong> Malé’s thriving real estate market 
          ensures stable rental income, plus capital appreciation potential. 
          Floors can accommodate clinics, cafés, gyms, offices, or apartments.
        </p>
      </div>
    </div>
  </section>

  <!-- SECTION 2: LOCATION & DEVELOPMENT DETAILS -->
  <section id="location" class="py-16 bg-gray-50 fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Location &amp; Development Details</h2>

      <!-- Two-column info cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
        <!-- General Info -->
        <div class="bg-white p-6 rounded-md shadow-sm">
          <h3 class="text-xl font-semibold text-haze mb-4">General Info</h3>
          <ul class="list-disc ml-5 text-gray-700 space-y-2">
            <li>Land Area: <strong>2,850 sqft</strong></li>
            <li>Floor Area (gross): <strong>2,850 sqft</strong> typical floors</li>
            <li>Usable Rental: <strong>2,273 sqft</strong> per floor</li>
            <li>2 Lifts to cater to multiple clients</li>
            <li>Dedicated garbage area, fire pump system, own transformer system</li>
          </ul>
        </div>
        <!-- Floor Breakdown -->
        <div class="bg-white p-6 rounded-md shadow-sm">
          <h3 class="text-xl font-semibold text-haze mb-4">Floor Breakdown &amp; Usage</h3>
          <ul class="list-disc ml-5 text-gray-700 space-y-2">
            <li>Ground+Basement+Mezz: <strong>~4,000 sqft</strong></li>
            <li>Floors 1–8: <strong>2,850 sqft each</strong> (2,273 usable)</li>
            <li>All 9 floors: <strong>~25,650 sqft total</strong></li>
          </ul>
          <p class="text-gray-700 mt-3">
            <em>Flexible usage:</em> Clinics, cafés, restaurants, gyms, offices, or apartments 
            (local restrictions apply). Landmark offers 
            <strong>discounted interior renovation</strong> if needed.
          </p>
        </div>
      </div>
    </div>
  </section>


  <!-- SECTION: MAPS & SURROUNDINGS -->
  <section id="mapsSection" class="py-16 bg-white fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-8">Maps & Surroundings</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
        <!-- Left: Big Map -->
        <div class="relative">
          <img src="http://landmark.mv/Pics/map%202.png"
               alt="Location Map 2"
               class="rounded-lg shadow w-full hover:opacity-90 transition-opacity">
        </div>
        <!-- Right: Toggling categories -->
        <div>
          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Leisure <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              <ul class="list-none space-y-1 mt-2">
                <li>Sultan Park - 5 min drive</li>
                <li>Artificial Beach - 8 min drive</li>
                <li>Rasfannu - 5 min drive</li>
                <li>Ekuveni Track - 10 min drive</li>
              </ul>
            </div>
          </div>

          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Education <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              <ul class="list-none space-y-1 mt-2">
                <li>Local Schools & Colleges ~5-10 mins away</li>
                <li>University campus ~10 mins drive</li>
              </ul>
            </div>
          </div>

          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Medical Centres <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              <ul class="list-none space-y-1 mt-2">
                <li>AMDC Clinic - 2 min walk</li>
                <li>Nearby hospital - 10 min drive</li>
              </ul>
            </div>
          </div>

          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Places of Interest <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              <ul class="list-none space-y-1 mt-2">
                <li>MPL - 9 min walk</li>
                <li>STO Trade Center - 10 min walk</li>
                <li>Jetty No.1 - 7 min walk</li>
                <li>Civil Court - 3 min drive</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- SECTION: FLOOR DRAWINGS -->
  <section id="floorDrawings" class="py-16 bg-gray-50 fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-8">Floor Drawings</h2>
  
      <!-- Responsive grid: 2 columns on small, 3 on medium, 4 on large -->
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
        <!-- Image 1 -->
        <div class="relative group">
          <img 
            src="http://landmark.mv/Pics/Gf%20op%201.png" 
            alt="Ground Floor Option 1"
            class="w-full h-48 object-cover rounded-lg shadow hover:scale-105 transition-transform cursor-pointer"
            onclick="openLightbox(this)"
          />
        </div>
        <!-- Image 2 -->
        <div class="relative group">
          <img 
            src="http://landmark.mv/Pics/GF%20op%202.png" 
            alt="Ground Floor Option 2"
            class="w-full h-48 object-cover rounded-lg shadow hover:scale-105 transition-transform cursor-pointer"
            onclick="openLightbox(this)"
          />
        </div>
        <!-- Image 3 -->
        <div class="relative group">
          <img 
            src="http://landmark.mv/Pics/Mez%20op%201.png"
            alt="Mezzanine Option 1"
            class="w-full h-48 object-cover rounded-lg shadow hover:scale-105 transition-transform cursor-pointer"
            onclick="openLightbox(this)"
          />
        </div>
        <!-- Image 4 -->
        <div class="relative group">
          <img 
            src="http://landmark.mv/Pics/Mez%20Op%202.png"
            alt="Mezzanine Option 2"
            class="w-full h-48 object-cover rounded-lg shadow hover:scale-105 transition-transform cursor-pointer"
            onclick="openLightbox(this)"
          />
        </div>
        <!-- Image 5 -->
        <div class="relative group">
          <img 
            src="http://landmark.mv/Pics/3%20to%209%20op%201.png"
            alt="Typical Floor Option 1"
            class="w-full h-48 object-cover rounded-lg shadow hover:scale-105 transition-transform cursor-pointer"
            onclick="openLightbox(this)"
          />
        </div>
        <!-- Image 6 -->
        <div class="relative group">
          <img 
            src="http://landmark.mv/Pics/3%20to%209%20optn%202.png"
            alt="Typical Floor Option 2"
            class="w-full h-48 object-cover rounded-lg shadow hover:scale-105 transition-transform cursor-pointer"
            onclick="openLightbox(this)"
          />
        </div>
        </div>
      </div>
  
      <!-- Lightbox for all images -->
      <div id="lightbox" class="lightbox" onclick="closeLightbox(event)">
        <img id="lightbox-img" src="" alt="Fullscreen View">
        <button class="close-btn" onclick="closeLightbox(event)">×</button>
      </div>
    </div>
  </section>

  <!-- SECTION 3: PRICING & PAYMENT -->
  <section id="pricing" class="py-16 bg-white fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Pricing &amp; Payment</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Sale Prices -->
        <div class="bg-white p-6 rounded-md shadow-sm">
          <h3 class="text-xl font-semibold text-haze mb-2">Sale Prices (Incl. GST for ROI)</h3>
          <ul class="list-disc ml-5 text-gray-700 space-y-2">
            <li>Floors 1–8: <strong>MVR 6.5m +8%</strong> → ~MVR 7.02m each</li>
            <li>Ground+Basement+Mezz: <strong>MVR 13.5m +8%</strong> → ~MVR 14.58m</li>
            <li>All 9 Floors: <strong>MVR 60.5m +8%</strong> → ~MVR 65.34m</li>
          </ul>
          <p class="text-sm text-gray-600 mt-2">
            ROI calculations assume these GST-inclusive amounts as total cost.
          </p>
        </div>
        <!-- Payment & Financing -->
        <div class="bg-white p-6 rounded-md shadow-sm">
          <h3 class="text-xl font-semibold text-haze mb-2">Payment &amp; Financing</h3>
          <ul class="list-disc ml-5 text-gray-700 space-y-2">
            <li><strong>Cash Option:</strong> 20% down, remainder on milestones</li>
            <li><strong>Bank Financing:</strong> ~10.5% over 15–20 years</li>
            <li><strong>Legal Fee:</strong> MVR 100,000 upon ownership change</li>
          </ul>
          <p class="text-sm text-gray-600 mt-2">
            For mortgage estimates, see the <strong>Mortgage Calculator</strong> below.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 4: ROI & RENTAL PROJECTIONS -->
  <section id="roiSection" class="py-16 bg-gray-50 fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">ROI &amp; Rental Projections</h2>
      <div class="bg-gray-50 p-6 rounded-md shadow-sm">
        <ul class="list-disc ml-5 text-gray-700 mb-4 space-y-2">
          <li>Discrete <strong>2% vacancy loss</strong> every 3 years (Y3, Y6, Y9...).</li>
          <li>Rents rise 2% every 2 years.</li>
          <li>Maintenance: MVR 1,500/month/floor.</li>
          <li>Optional 2% management fee.</li>
        </ul>

        <!-- Toggles -->
        <div class="mb-4">
          <label class="inline-flex items-center space-x-2">
            <input type="checkbox" id="mgmtFeeToggle" class="form-checkbox h-5 w-5 text-haze">
            <span class="text-gray-800">2% Management & Rental Collection Fee</span>
          </label>
          <br>
          <label class="inline-flex items-center space-x-2 mt-2">
            <input type="checkbox" id="renovationToggle" class="form-checkbox h-5 w-5 text-haze">
            <span class="text-gray-800">Estimated Renovation (~MVR 2 million)</span>
          </label>
        </div>

        <!-- Floor Selector -->
        <div class="mb-4">
          <label for="floorSelector" class="mr-2 font-semibold text-gray-800">Select Floor Package:</label>
          <select id="floorSelector" class="border border-gray-300 rounded p-1">
            <option value="floorRegular">Typical Floor (~7.02m GST)</option>
            <option value="floorGround">Ground+Mezz (~14.58m GST)</option>
            <option value="fullProperty">All 9 Floors (~65.34m GST)</option>
          </select>
        </div>

        <p class="text-gray-800 mb-2">
          <strong>Total Usable Sqft:</strong> <span id="totalSqftDisplay">2,273</span> sqft
        </p>

        <!-- ROI Table -->
        <div class="overflow-auto">
          <table id="roiTable" class="min-w-full text-gray-800 border border-gray-200">
            <thead>
              <tr class="bg-haze text-white">
                <th class="p-2 text-left">Scenario <br><small>(Sqft Price)</small></th>
                <th class="p-2 text-left">Monthly Rent</th>
                <th class="p-2 text-left">Annual Rent</th>
                <th class="p-2 text-left">Net Income</th>
                <th class="p-2 text-left">Annual ROI (%)</th>
                <th class="p-2 text-left">Recovery (yrs)</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <!-- Inserted by JS -->
            </tbody>
          </table>
        </div>

        <!-- 10-Year Breakdown -->
        <button class="mt-6 px-4 py-2 bg-haze text-white rounded hover:opacity-90" onclick="toggleTenYearBreakdown()">
          View 10-Year Detailed Breakdown
        </button>

        <!-- The advanced table with tax, Zakat, etc. (snapshot years) -->
        <div id="tenYearBreakdown" class="hidden mt-4 bg-white p-4 rounded-md shadow-inner">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">10-Year Detailed Breakdown</h3>
          <p class="text-gray-700 text-sm mb-4">
            Shows key snapshot years (1, 2, 3, 4, 5, 10, 20, 30) with 2% rent escalations, 
            2% vacancy every 3 years, 2.5% Zakat, and 15% tax above MVR 500k.
          </p>
          <div id="tenYearTables">
            <!-- Inserted by JS -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 5: RESALE STRATEGY -->
  <section id="exit" class="py-16 bg-white fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Resale Strategy</h2>
      <div class="bg-gray-50 p-6 rounded-md shadow-sm">
        <p class="text-gray-700">
          Below are short, mid, and long-term hold scenarios.
        </p>
        <!-- Short-Term -->
        <div class="mt-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Short-Term (Years 3–8)</h3>
          <div class="overflow-auto">
            <table class="min-w-full text-gray-800 border border-gray-200">
              <thead>
                <tr class="bg-haze text-white">
                  <th class="p-2 text-left">Scenario</th>
                  <th class="p-2 text-left">Holding (yrs)</th>
                  <th class="p-2 text-left">Total Net Rent</th>
                  <th class="p-2 text-left">Resale Price</th>
                  <th class="p-2 text-left">Profit</th>
                </tr>
              </thead>
              <tbody id="shortTermBody" class="divide-y divide-gray-200"></tbody>
            </table>
          </div>
        </div>
        <!-- Mid-Term -->
        <div class="mt-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Mid-Term (Years 8–18) [15 years]</h3>
          <div class="overflow-auto">
            <table class="min-w-full text-gray-800 border border-gray-200">
              <thead>
                <tr class="bg-haze text-white">
                  <th class="p-2 text-left">Scenario</th>
                  <th class="p-2 text-left">Holding (yrs)</th>
                  <th class="p-2 text-left">Total Net Rent</th>
                  <th class="p-2 text-left">Resale Price</th>
                  <th class="p-2 text-left">Profit</th>
                </tr>
              </thead>
              <tbody id="midTermBody" class="divide-y divide-gray-200"></tbody>
            </table>
          </div>
        </div>
        <!-- Long-Term -->
        <div class="mt-6">
          <h3 class="text-xl font-semibold text-gray-900 mb-2">Long-Term (Years 18–30) [25 years]</h3>
          <div class="overflow-auto">
            <table class="min-w-full text-gray-800 border border-gray-200">
              <thead>
                <tr class="bg-haze text-white">
                  <th class="p-2 text-left">Scenario</th>
                  <th class="p-2 text-left">Holding (yrs)</th>
                  <th class="p-2 text-left">Total Net Rent</th>
                  <th class="p-2 text-left">Resale Price</th>
                  <th class="p-2 text-left">Profit</th>
                </tr>
              </thead>
              <tbody id="longTermBody" class="divide-y divide-gray-200"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION 6: CONSTRUCTION TIMELINE -->
  <section id="timeline" class="py-16 bg-white fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Construction Timeline</h2>
      <div class="bg-gray-50 p-6 rounded-md shadow-sm overflow-auto">
        <table class="min-w-full text-gray-800 border border-gray-300">
          <thead>
            <tr class="bg-haze text-white">
              <th class="p-2 text-left">Period</th>
              <th class="p-2 text-left">Construction Milestone</th>
              <th class="p-2 text-left">Billing (%)</th>
              <th class="p-2 text-left">Payment Due</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr>
              <td class="p-2">Q4 2023</td>
              <td class="p-2">Agreement Signed</td>
              <td class="p-2">-</td>
              <td class="p-2">-</td>
            </tr>
            <tr>
              <td class="p-2">Q4 2024</td>
              <td class="p-2">Drawings Submitted for Approval</td>
              <td class="p-2">-</td>
              <td class="p-2">-</td>
            </tr>
            <tr>
              <td class="p-2">Q3 2025</td>
              <td class="p-2">Demolition &amp; Design Finalization, Site Mobilization</td>
              <td class="p-2">20%</td>
              <td class="p-2">Start of construction</td>
            </tr>
            <tr>
              <td class="p-2">Q4 2025</td>
              <td class="p-2">Basement &amp; Foundation Works, Partial Floor Slabs</td>
              <td class="p-2">15%</td>
              <td class="p-2">Upon completion of foundations</td>
            </tr>
            <tr>
              <td class="p-2">Q1 2026</td>
              <td class="p-2">Concrete Slab Works (Floors 1-4), Façade Prep</td>
              <td class="p-2">15%</td>
              <td class="p-2">Upon completion of 4th floor</td>
            </tr>
            <tr>
              <td class="p-2">Q2 2026</td>
              <td class="p-2">Floors 5-8, Façade Cladding &amp; Finishing</td>
              <td class="p-2">15%</td>
              <td class="p-2">Upon completion of 8th floor</td>
            </tr>
            <tr>
              <td class="p-2">Q3 2026</td>
              <td class="p-2">Plumbing, Lift Installation, Doors &amp; Windows</td>
              <td class="p-2">15%</td>
              <td class="p-2">Upon completion of core services</td>
            </tr>
            <tr>
              <td class="p-2">Q4 2026</td>
              <td class="p-2">Interior Works, Electrical &amp; MEP</td>
              <td class="p-2">10%</td>
              <td class="p-2">Upon MEP completion</td>
            </tr>
            <tr>
              <td class="p-2">Q3 2027</td>
              <td class="p-2">Final Façade Finishing, Commissioning, Handover</td>
              <td class="p-2">10%</td>
              <td class="p-2">Upon final handover</td>
            </tr>
          </tbody>
        </table>
        <p class="text-gray-700 mt-4">
          <em>Early possession</em> for completed floors is possible to start fit-out or rentals. 
          All payments are subject to work completion verification.
        </p>
      </div>
    </div>
  </section>

  <!-- SECTION: WHY INVEST? -->
  <section id="whyInvest" class="py-16 bg-gray-50 fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-8">Why Invest in This Property?</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Left: Toggles for each point -->
        <div>
          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Prime Location <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              Situated near Malé’s key business hubs, ensuring consistent footfall and occupancy rates.
            </div>
          </div>
          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              High Rental Yield <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              Projected returns of 8% - 12% annually with stable demand in the capital city.
            </div>
          </div>
          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Capital Appreciation <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              Historically, property values in Malé have climbed 5-8% per year, outpacing inflation.
            </div>
          </div>
          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Flexible Payment Plans <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              Multiple financing options available, including support from major local banks.
            </div>
          </div>
          <div class="mb-4">
            <h3 class="accordion-header text-xl font-semibold cursor-pointer py-2 border-b text-haze"
                onclick="this.classList.toggle('active');">
              Turnkey Investment <span class="float-right">+</span>
            </h3>
            <div class="accordion-content p-2 text-gray-700">
              Fully managed property with optional rental management and discounted renovations.
            </div>
          </div>
        </div>
        <!-- Right: Reduced image size -->
        <div class="grid grid-cols-1 gap-4">
          <img src="http://landmark.mv/Pics/Front%20View.JPG"
               alt="Why Invest 1"
               class="w-3/4 mx-auto rounded-lg shadow hover:scale-105 transition-transform cursor-pointer">
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION: Legal (above Next Steps) -->
  <section id="legalInformation" class="py-16 bg-white fade-up reveal">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Legal Information &amp; Ownership Process</h2>
      <div class="section-content text-gray-700 leading-relaxed">
        <p class="mb-4">
          Purchasing property in Malé, Maldives, follows a structured legal process to ensure full ownership rights
          and regulatory compliance. The following steps outline the timeline, required documentation,
          and key legal considerations for buyers.
        </p>

        <h3 class="text-2xl font-semibold mb-3">1. Property Ownership in Malé</h3>
        <ul class="list-disc ml-5 mb-6">
          <li><strong>Full Ownership:</strong> As a Maldivian citizen, buyers are eligible for full freehold ownership of properties in Malé.</li>
          <li><strong>Cash Purchase:</strong> The majority of transactions for this property will be cash-based, eliminating the need for mortgage registration.</li>
          <li><strong>Ownership Transfer:</strong> All sales must be registered with Civil Court and Malé City Council, ensuring legal compliance.</li>
        </ul>

        <h3 class="text-2xl font-semibold mb-3">2. Legal Process &amp; Timeline</h3>
        <table style="width:100%; border-collapse: collapse; margin-top: 1rem;">
          <thead>
            <tr style="background-color: var(--accent-color); color: var(--background-color);">
              <th style="padding: 0.75rem 1rem; text-align: left;">Step</th>
              <th style="padding: 0.75rem 1rem; text-align: left;">Process</th>
              <th style="padding: 0.75rem 1rem; text-align: left;">Estimated Duration</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="padding: 0.75rem 1rem;">1. Agreement Signing</td>
              <td style="padding: 0.75rem 1rem;">Buyer signs a Sale &amp; Purchase Agreement (SPA) with the seller.</td>
              <td style="padding: 0.75rem 1rem;">1-2 weeks</td>
            </tr>
            <tr>
              <td style="padding: 0.75rem 1rem;">2. Legal Due Diligence</td>
              <td style="padding: 0.75rem 1rem;">Ownership verification, outstanding dues check, and confirmation of title deed.</td>
              <td style="padding: 0.75rem 1rem;">1-3 weeks</td>
            </tr>
            <tr>
              <td style="padding: 0.75rem 1rem;">3. Sales Registration</td>
              <td style="padding: 0.75rem 1rem;">The sale is registered with Civil Court.</td>
              <td style="padding: 0.75rem 1rem;">4-8 weeks</td>
            </tr>
            <tr>
              <td style="padding: 0.75rem 1rem;">4. Payments</td>
              <td style="padding: 0.75rem 1rem;">Buyer makes payments as per the payment schedule and pays MVR 100,000 in legal and transfer fees.</td>
              <td style="padding: 0.75rem 1rem;">As per Construction Timeline</td>
            </tr>
            <tr>
              <td style="padding: 0.75rem 1rem;">5. Handover &amp; Possession</td>
              <td style="padding: 0.75rem 1rem;">Buyer receives official ownership certificate, keys, and full rights to the property.</td>
              <td style="padding: 0.75rem 1rem;">Q3 2027</td>
            </tr>
          </tbody>
        </table>

        <h3 class="text-2xl font-semibold mb-3 mt-6">3. Key Legal Considerations</h3>
        <ul class="list-disc ml-5 mb-6">
          <li><strong>Ownership Registration:</strong> All property purchases in Malé must be registered at Civil Court and Malé City Council.</li>
          <li><strong>No Mortgage Requirements:</strong> Since this is a cash-based transaction, there are no bank mortgage registration fees.</li>
          <li><strong>Resale Restrictions:</strong> Buyers can resell the property at any time without additional restrictions.</li>
          <li><strong>Legal Assistance Recommended:</strong> Buyers should engage a real estate lawyer to verify contracts and ensure smooth processing.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- SECTION: Next Steps / How to Get Involved -->
  <section id="nextSteps" class="py-16 bg-white fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">How to Get Involved</h2>
      <div class="bg-gray-50 p-6 rounded-md shadow-sm">
        <p class="text-gray-700 mb-4">Ready to invest?</p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <!-- Step 1 -->
          <div class="bg-white p-6 rounded-md shadow-sm">
            <h3 class="text-lg font-semibold text-haze mb-2">Step 1: Schedule a Consultation</h3>
            <p class="text-gray-700 mb-4">
              Contact our investment team to discuss pricing, financing, and available units.
            </p>
            <button class="bg-haze text-white px-4 py-2 rounded hover:opacity-90"
              onclick="window.location.href='mailto:a@landmark.com.mv'">
              Contact Us
            </button>
          </div>
        </div>
        <p class="text-sm text-gray-800 mt-4">
          <em>For inquiries, email <a href="mailto:a@landmark.com.mv" class="text-haze">a@landmark.com.mv</a> 
          or call <strong>+960 7777177</strong>.</em>
        </p>
      </div>
    </div>
  </section>

  <!-- MORTGAGE SECTION -->
  <section id="mortgageCalc" class="py-16 bg-gray-50 fade-up">
    <div class="max-w-7xl mx-auto px-4">
      <h2 class="text-4xl font-bold text-gray-900 mb-6">Mortgage Calculator</h2>
      <div class="bg-white p-6 rounded-md shadow-sm">
        <p class="text-gray-700 mb-4">
          Estimate monthly installments with GST-inclusive prices. 
          Adjust your down payment from 0–100% (default 20%).
        </p>
        <!-- Down Payment Box -->
        <div class="bg-gray-50 p-4 rounded-md shadow-inner mb-4">
          <h3 class="text-xl font-semibold text-haze mb-2">Equity &amp; Financing</h3>
          <div class="flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-4">
            <label for="downPaymentRange" class="font-semibold text-gray-700">Down Payment (%):</label>
            <input type="range" id="downPaymentRange" min="0" max="100" value="20" class="w-64">
            <span id="downPaymentLabel" class="w-16 text-gray-900 text-right">20%</span>
          </div>
          <p class="text-gray-700 mt-2">
            <strong>Loan Amount:</strong> <span id="loanAmount">--</span> MVR<br/>
            <strong>Equity:</strong> <span id="equityAmount">--</span> MVR
          </p>
        </div>

        <button class="px-4 py-2 bg-haze text-white rounded hover:opacity-90" onclick="toggleMortgage()">
          View Mortgage Table
        </button>
        <div id="mortgageSection" class="hidden mt-4 bg-gray-50 p-4 rounded-md shadow-inner">
          <!-- Mortgage Inputs -->
          <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
            <div>
              <label for="mortgageOption" class="block mb-1 font-semibold text-gray-700">Property Option</label>
              <select id="mortgageOption" class="border border-gray-300 rounded p-1 w-full">
                <option value="fullProp">All 9 Floors (~65.34m inc. GST)</option>
                <option value="ground">Ground Floor (~14.58m inc. GST)</option>
                <option value="typical">Typical Floor (~7.02m inc. GST)</option>
              </select>
            </div>
            <div>
              <label for="interestRate" class="block mb-1 font-semibold text-gray-700">Interest Rate (%)</label>
              <input type="number" id="interestRate" class="border border-gray-300 rounded p-1 w-full" value="10.5"/>
            </div>
            <div>
              <label for="loanYears" class="block mb-1 font-semibold text-gray-700">Loan Duration (yrs)</label>
              <input type="number" id="loanYears" class="border border-gray-300 rounded p-1 w-full" value="15"/>
            </div>
            <div class="flex items-end">
              <button class="bg-haze text-white px-4 py-2 rounded hover:opacity-90"
                onclick="buildMortgageTable()">
                Calculate
              </button>
            </div>
          </div>

          <!-- Mortgage Summary Row -->
          <div id="mortgageSummaryRow" class="bg-white p-4 rounded-md shadow-sm mb-4">
            <p id="mortgageSummaryText" class="text-gray-800 font-semibold"></p>
          </div>

          <!-- Mortgage Table -->
          <div class="overflow-auto">
            <table id="mortgageTable" class="min-w-full text-gray-800 border border-gray-300">
              <thead>
                <tr class="bg-haze text-white">
                  <th class="p-2 text-left">Month</th>
                  <th class="p-2 text-left">Payment (MVR)</th>
                  <th class="p-2 text-left">Interest</th>
                  <th class="p-2 text-left">Principal</th>
                  <th class="p-2 text-left">Balance</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <!-- Inserted by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-haze text-white py-12 mt-8">
    <div class="max-w-7xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
          <h3 class="text-lg font-semibold mb-4">Landmark Development Pvt Ltd</h3>
          <p class="text-white/80 mb-4">
            Your trusted partner for real estate development in the Maldives.
          </p>
          <p class="text-white/80 mb-2">
            Email: 
            <a href="mailto:a@landmark.com.mv" class="underline hover:text-white">
              a@landmark.com.mv
            </a>
          </p>
          <p class="text-white/80">Phone: +960 7777177</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
          <ul class="space-y-2 text-white/80">
            <li><a href="#execSummary" class="hover:text-white">Executive Summary</a></li>
            <li><a href="#location" class="hover:text-white">Location & Development</a></li>
            <li><a href="#mapsSection" class="hover:text-white">Maps</a></li>
            <li><a href="#floorDrawings" class="hover:text-white">Floor Drawings</a></li>
            <li><a href="#pricing" class="hover:text-white">Pricing</a></li>
            <li><a href="#roiSection" class="hover:text-white">ROI & Rental</a></li>
            <li><a href="#whyInvest" class="hover:text-white">Why Invest</a></li>
            <li><a href="#nextSteps" class="hover:text-white">Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-white/20 mt-8 pt-4 text-center text-white/80">
        <p>&copy; 2025 Landmark Development Pvt Ltd. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- SCRIPTS (ROI, Mortgage, Lightbox, Multi-Year Breakdown with Zakat/Tax, etc.) -->
  <script>
    /************************************************************
     * Intersection Observer for .fade-up sections
     ************************************************************/
    document.addEventListener('DOMContentLoaded', function() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if(entry.isIntersecting) {
            entry.target.classList.add('in-view');
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.fade-up').forEach(el => {
        observer.observe(el);
      });
    });

    /************************************************************
     * Lightbox
     ************************************************************/
    function openLightbox(image) {
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      lightbox.style.display = 'flex';
      lightboxImg.src = image.src;
    }
    function closeLightbox(event) {
      event.stopPropagation();
      document.getElementById('lightbox').style.display = 'none';
    }

    /************************************************************
     * ROI & Rental Projections Data
     ************************************************************/
    const scenarioRates = { Low:25, Base:40, High:50 };
    const floorPackages = {
      floorRegular: { sqft:2273, purchasePrice:7020000 },
      floorGround:  { sqft:4000, purchasePrice:14580000 },
      fullProperty: { sqft: (2273*8 + 4000), purchasePrice:65340000 }
    };
    const mgmtFeeRate = 2,
          renovationCost = 2000000,
          monthlyMaintenanceFee = 1500,
          rentIncreaseRate = 0.02;  // 2% every 2 years
    const zakatRate = 0.025;       // 2.5%
    const incomeTaxRate = 0.15;    // 15%
    const taxThreshold = 500000;   // Income above this is taxed

    // Update single-year ROI table
    function updateROI() {
      const floorKey = document.getElementById('floorSelector').value;
      const floorData = floorPackages[floorKey];
      const mgmtActive = document.getElementById('mgmtFeeToggle').checked;
      const renovationActive = document.getElementById('renovationToggle').checked;

      // Show selected sqft
      document.getElementById('totalSqftDisplay').textContent = floorData.sqft.toLocaleString();

      let totalPurchase = floorData.purchasePrice;
      if(renovationActive) {
        totalPurchase += renovationCost;
      }

      // Build the main ROI table
      const roiTableBody = document.querySelector('#roiTable tbody');
      roiTableBody.innerHTML = '';

      Object.entries(scenarioRates).forEach(([scenarioName, sqftPrice]) => {
        const monthlyRent = sqftPrice * floorData.sqft;
        const annualRent  = monthlyRent * 12;

        // Single-year net (no discrete vacancy in this quick table):
        const mgmtFee = mgmtActive ? (annualRent * mgmtFeeRate / 100) : 0;
        const maintenance = (monthlyMaintenanceFee * 12) *
                            (floorKey === 'fullProperty' ? 9 : 1);

        const netIncome = annualRent - mgmtFee - maintenance;
        let annualROI = 0;
        if(totalPurchase > 0) {
          annualROI = Math.round((netIncome / totalPurchase) * 100);
        }
        const recovery = (netIncome > 0)
          ? (totalPurchase / netIncome).toFixed(1)
          : '∞';

        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td class="p-2">${scenarioName} <br><small>(${sqftPrice} MVR/sqft)</small></td>
          <td class="p-2">${Math.round(monthlyRent).toLocaleString()}</td>
          <td class="p-2">${Math.round(annualRent).toLocaleString()}</td>
          <td class="p-2">${Math.round(netIncome).toLocaleString()}</td>
          <td class="p-2">${annualROI}%</td>
          <td class="p-2"><strong>${recovery} yrs</strong></td>
        `;
        roiTableBody.appendChild(tr);
      });

      // If breakdown is visible, rebuild it with new toggles
      if(!document.getElementById('tenYearBreakdown').classList.contains('hidden')){
        buildTenYearTables();
      }
    }

    /************************************************************
     * Multi-Year Breakdown (Years 1..30, show snapshot columns)
     ************************************************************/
    function toggleTenYearBreakdown() {
      const breakdownDiv = document.getElementById('tenYearBreakdown');
      breakdownDiv.classList.toggle('hidden');
      if(!breakdownDiv.classList.contains('hidden')){
        buildTenYearTables();
      }
    }

    function buildTenYearTables() {
      const container = document.getElementById('tenYearTables');
      container.innerHTML = '';
      const floorKey = document.getElementById('floorSelector').value;
      const floorData = floorPackages[floorKey];
      const mgmtActive = document.getElementById('mgmtFeeToggle').checked;
      const renovationActive = document.getElementById('renovationToggle').checked;

      let initialInvestment = floorData.purchasePrice;
      if(renovationActive) {
        initialInvestment += renovationCost;
      }

      // We'll calculate Years 1..30, but display only these snapshot columns
      const snapshotYears = [1, 2, 3, 4, 5, 10, 20, 30];

      // Helper to style rows
      function getRowClass(label){
        if (label === 'Rental Income') {
          return 'bg-incomes';
        } else if (
          label === 'Operating Income' ||
          label === 'Net Income' ||
          label.includes('Cumulative CF')
        ) {
          return 'bg-totals';
        } else if (
          label === 'Total Expenses' ||
          label.includes('Vacancy') ||
          label.includes('Fee') ||
          label.includes('Maintenance') ||
          label.includes('Renovation') ||
          label.includes('Tax') ||
          label.includes('Zakat')
        ) {
          return 'bg-expenses';
        }
        return '';
      }

      function buildRow(label, values){
        const rowClass = getRowClass(label);
        let rowHtml = `<tr class="border-b border-gray-200 ${rowClass}"><td class="p-2">${label}</td>`;
        values.forEach(val => {
          rowHtml += `<td class="p-2 text-right">${Math.round(val).toLocaleString()}</td>`;
        });
        rowHtml += '</tr>';
        return rowHtml;
      }

      // Per-scenario loops: Low, Base, High
      Object.entries(scenarioRates).forEach(([scenarioName, sqftPrice]) => {
        // Heading
        const heading = document.createElement('h4');
        heading.className = 'text-lg font-semibold text-haze mb-2';
        heading.textContent = `${scenarioName} Scenario Financial Analysis (Key Years)`;

        // Description
        const desc = document.createElement('p');
        desc.className = 'text-gray-700 mb-4';
        desc.innerHTML = `
          Sqft Rate: ${sqftPrice.toLocaleString()} MVR/sqft <br />
          Floor Area: ${floorData.sqft.toLocaleString()} sqft <br />
          Initial Investment: ${initialInvestment.toLocaleString()} MVR
        `;

        // Arrays for storing only the snapshot data
        const rentalIncomeArr = [],
              vacancyArr      = [],
              mgmtArr         = [],
              maintArr        = [],
              renoArr         = [],
              totalExpArr     = [],
              operatingArr    = [],
              zakatArr        = [],
              taxArr          = [],
              netArr          = [],
              ccfArr          = [];

        // Full-year simulation
        let monthlyRent = sqftPrice * floorData.sqft;
        let ccf = -initialInvestment; // Start cumulative CF

        for(let year = 1; year <= 30; year++){
          // Rent escalates 2% every 2 yrs: years 3,5,7,9,11...
          if(year > 1 && year % 2 === 1) {
            monthlyRent *= (1 + rentIncreaseRate);
          }

          const annualRent = monthlyRent * 12;
          const vacancy    = (year % 3 === 0) ? (annualRent * 0.02) : 0;
          const mgmtFeeVal = mgmtActive ? (annualRent * mgmtFeeRate / 100) : 0;
          const maintenance = monthlyMaintenanceFee * 12 *
                              (floorKey === 'fullProperty' ? 9 : 1);
          // 5% renovation every 3rd year
          const renovation = (year % 3 === 0) ? (annualRent * 0.05) : 0;

          const totalExpenses = vacancy + mgmtFeeVal + maintenance + renovation;
          const operatingIncome = annualRent - totalExpenses;

          // Zakat & tax
          const zakat = (operatingIncome > 0) 
            ? (operatingIncome * zakatRate)
            : 0;
          const taxable = (operatingIncome - zakat) - taxThreshold;
          const incomeTax = (taxable > 0) 
            ? (taxable * incomeTaxRate)
            : 0;

          const netIncome = operatingIncome - zakat - incomeTax;
          ccf += netIncome;

          // If it's a snapshot year, store it
          if(snapshotYears.includes(year)){
            rentalIncomeArr.push(annualRent);
            vacancyArr.push(vacancy);
            mgmtArr.push(mgmtFeeVal);
            maintArr.push(maintenance);
            renoArr.push(renovation);
            totalExpArr.push(totalExpenses);
            operatingArr.push(operatingIncome);
            zakatArr.push(zakat);
            taxArr.push(incomeTax);
            netArr.push(netIncome);
            ccfArr.push(ccf);
          }
        }

        // Build the table (only for snapshot columns)
        const table = document.createElement('table');
        table.className = 'min-w-full mb-6 text-gray-800 border border-gray-300';

        // Header
        let headerRow = '<tr><th class="p-2 bg-haze text-white text-left">Financial Metrics</th>';
        snapshotYears.forEach(y => {
          headerRow += `<th class="p-2 bg-haze text-white text-right">Year ${y}</th>`;
        });
        headerRow += '</tr>';

        table.innerHTML = `
          <thead>${headerRow}</thead>
          <tbody>
            ${buildRow('Rental Income', rentalIncomeArr)}
            ${buildRow('Vacancy Loss', vacancyArr)}
            ${buildRow('Management Fee', mgmtArr)}
            ${buildRow('Maintenance', maintArr)}
            ${buildRow('Renovation', renoArr)}
            ${buildRow('Total Expenses', totalExpArr)}
            ${buildRow('Operating Income', operatingArr)}
            ${buildRow('Zakat (2.5%)', zakatArr)}
            ${buildRow('Income Tax (15%)', taxArr)}
            ${buildRow('Net Income', netArr)}
            ${buildRow('Cumulative CF', ccfArr)}
          </tbody>
        `;

        container.appendChild(heading);
        container.appendChild(desc);
        container.appendChild(table);
      });
    }

    /************************************************************
     * EXIT STRATEGY (Short/Mid/Long)
     ************************************************************/
    function buildExitTables() {
      const shortTermBody = document.getElementById('shortTermBody');
      const midTermBody   = document.getElementById('midTermBody');
      const longTermBody  = document.getElementById('longTermBody');
      shortTermBody.innerHTML = '';
      midTermBody.innerHTML   = '';
      longTermBody.innerHTML  = '';

      Object.entries(scenarioRates).forEach(([scenarioName, sqftPrice]) => {
        // short => 6 yrs
        const shortVal= exitCalc(scenarioName, sqftPrice, 6);
        // mid => 15 yrs
        const midVal  = exitCalc(scenarioName, sqftPrice, 15);
        // long => 25 yrs
        const longVal = exitCalc(scenarioName, sqftPrice, 25);

        const sTR= document.createElement('tr');
        sTR.innerHTML=`
          <td class="p-2">${scenarioName}</td>
          <td class="p-2">6</td>
          <td class="p-2">${shortVal.totalRent.toLocaleString()}</td>
          <td class="p-2">${shortVal.resaleValue.toLocaleString()}</td>
          <td class="p-2">${shortVal.profit.toLocaleString()}</td>
        `;
        shortTermBody.appendChild(sTR);

        const mTR= document.createElement('tr');
        mTR.innerHTML=`
          <td class="p-2">${scenarioName}</td>
          <td class="p-2">15</td>
          <td class="p-2">${midVal.totalRent.toLocaleString()}</td>
          <td class="p-2">${midVal.resaleValue.toLocaleString()}</td>
          <td class="p-2">${midVal.profit.toLocaleString()}</td>
        `;
        midTermBody.appendChild(mTR);

        const lTR= document.createElement('tr');
        lTR.innerHTML=`
          <td class="p-2">${scenarioName}</td>
          <td class="p-2">25</td>
          <td class="p-2">${longVal.totalRent.toLocaleString()}</td>
          <td class="p-2">${longVal.resaleValue.toLocaleString()}</td>
          <td class="p-2">${longVal.profit.toLocaleString()}</td>
        `;
        longTermBody.appendChild(lTR);
      });
    }

    function exitCalc(scenarioName, sqftPrice, yrs) {
      const floorKey= document.getElementById('floorSelector').value;
      const floorData= floorPackages[floorKey];
      const mgmtActive= document.getElementById('mgmtFeeToggle').checked;
      const renovationActive= document.getElementById('renovationToggle').checked;

      let basePrice= floorData.purchasePrice;
      if(renovationActive) {
        basePrice += renovationCost;
      }

      // approximate property appreciation: +2% every 2 yrs
      let finalVal= basePrice;
      let periods= Math.floor(yrs/2);
      for(let i=0; i<periods; i++){
        finalVal *= (1 + rentIncreaseRate);
      }

      // year-by-year net rent w/ vacancy etc.
      let monthlyRent= sqftPrice * floorData.sqft;
      let totalRent= 0;
      for(let y=1; y <= yrs; y++){
        if(y>1 && y%2===1) {
          monthlyRent *= (1 + rentIncreaseRate);
        }
        const annualRent= monthlyRent*12;
        const vacancy= (y%3===0)? (annualRent*0.02): 0;
        const mgmtFeeVal= mgmtActive? (annualRent*mgmtFeeRate/100): 0;
        const maintenance= (monthlyMaintenanceFee*12) * 
                          (floorKey==='fullProperty'? 9 : 1);

        const net= annualRent - vacancy - mgmtFeeVal - maintenance;
        totalRent += net;
      }
      let profit= (finalVal + totalRent) - basePrice;

      return {
        totalRent: Math.round(totalRent),
        resaleValue: Math.round(finalVal),
        profit: Math.round(profit)
      };
    }

    /************************************************************
     * Mortgage
     ************************************************************/
    function toggleMortgage(){
      const sec= document.getElementById('mortgageSection');
      sec.classList.toggle('hidden');
    }

    function downPaymentSlider(){
      const dpRange= document.getElementById('downPaymentRange');
      const dpLabel= document.getElementById('downPaymentLabel');
      dpLabel.textContent= dpRange.value + '%';
      updateDownPaymentInfo();
      buildMortgageTable();
    }

    function updateDownPaymentInfo(){
      const dpVal= parseFloat(document.getElementById('downPaymentRange').value) || 20;
      const mortgageOption= document.getElementById('mortgageOption').value;
      let price=0;
      if(mortgageOption==='fullProp') price=65340000;
      else if(mortgageOption==='ground') price=14580000;
      else price=7020000;

      const dpAmount= Math.round(price*(dpVal/100));
      const financed= price - dpAmount;

      document.getElementById('loanAmount').textContent= financed.toLocaleString();
      document.getElementById('equityAmount').textContent= dpAmount.toLocaleString();
    }

    function buildMortgageTable(){
      const mortgageTableBody= document.querySelector('#mortgageTable tbody');
      mortgageTableBody.innerHTML= '';

      const mortgageOption= document.getElementById('mortgageOption').value;
      const interestRate= parseFloat(document.getElementById('interestRate').value)/100 || 0.105;
      const loanYears= parseInt(document.getElementById('loanYears').value) || 15;
      const dpVal= parseFloat(document.getElementById('downPaymentRange').value) || 20;

      let price=0;
      if(mortgageOption==='fullProp') price=65340000;
      else if(mortgageOption==='ground') price=14580000;
      else price=7020000;

      const downPayment= Math.round(price*(dpVal/100));
      const financedAmount= price - downPayment;
      const summary= document.getElementById('mortgageSummaryText');
      summary.innerHTML = `
        Property Price (inc. GST): ${price.toLocaleString()} |
        Down Payment (${dpVal}%): ${downPayment.toLocaleString()} |
        Loan Amount: ${financedAmount.toLocaleString()}
      `;

      const monthlyRate= interestRate/12;
      const numMonths= loanYears*12;
      let monthlyPayment=0;
      if(monthlyRate>0){
        monthlyPayment= financedAmount*(monthlyRate/(1 - Math.pow(1+monthlyRate, -numMonths)));
      } else {
        monthlyPayment= financedAmount/numMonths;
      }
      let balance= financedAmount;

      for(let m=1; m<=numMonths; m++){
        const interestPortion= balance*monthlyRate;
        const principalPortion= monthlyPayment - interestPortion;
        balance-= principalPortion;
        if(balance<0) balance=0;

        const row= document.createElement('tr');
        row.innerHTML=`
          <td class="p-2">${m}</td>
          <td class="p-2">${Math.round(monthlyPayment).toLocaleString()}</td>
          <td class="p-2">${Math.round(interestPortion).toLocaleString()}</td>
          <td class="p-2">${Math.round(principalPortion).toLocaleString()}</td>
          <td class="p-2">${Math.round(balance).toLocaleString()}</td>
        `;
        mortgageTableBody.appendChild(row);
        if(balance<=0) break;
      }
    }

    /************************************************************
     * On DOM Ready
     ************************************************************/
    window.addEventListener('DOMContentLoaded', () => {
      // ROI & EXIT
      document.getElementById('floorSelector').addEventListener('change', updateROI);
      document.getElementById('mgmtFeeToggle').addEventListener('change', updateROI);
      document.getElementById('renovationToggle').addEventListener('change', updateROI);

      // Mortgage
      document.getElementById('mortgageOption').addEventListener('change', () => {
        updateDownPaymentInfo();
        buildMortgageTable();
      });
      document.getElementById('interestRate').addEventListener('change', buildMortgageTable);
      document.getElementById('loanYears').addEventListener('change', buildMortgageTable);
      document.getElementById('downPaymentRange').addEventListener('input', downPaymentSlider);

      // Initial page loads
      updateROI();
      buildExitTables();
      updateDownPaymentInfo();
      buildMortgageTable();
    });
  </script>
</body>
</html>
